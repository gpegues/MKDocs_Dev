/* blackout_theme/assets/css/main.css */

/* --- Variables --- */
:root {
    --bo-bg-color: #000000; /* True black background */
    --bo-bg-color-light: #111111; /* Slightly lighter black for subtle contrast */
    --bo-bg-color-lighter: #222222; /* Even lighter for hover/active states */
    --bo-fg-color: #e0e0e0; /* Light grey primary text */
    --bo-fg-color-light: #aaaaaa; /* Lighter grey secondary text */
    --bo-fg-color-lighter: #777777; /* Even lighter for tertiary/muted text */
    --bo-accent-color: #2196f3; /* Blue accent */
    --bo-accent-color-transparent: rgba(33, 150, 243, 0.1);
    --bo-border-color: #333333; /* Dark grey borders */
    --bo-code-bg-color: #1a1a1a;
    --bo-code-fg-color: #d0d0d0;

    --bo-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
    --bo-font-mono: "SFMono-Regular", Consolas, "Roboto Mono", "Liberation Mono", Menlo, Courier, monospace;

    --bo-header-height: 60px;
    --bo-footer-height: 50px; /* Define footer height */
    --bo-sidebar-width: 300px; /* Increased sidebar width */
    --bo-sidebar-width-collapsed: 0px;
    --bo-container-padding: 1.5rem;
    --bo-nav-item-v-padding: 0.5em; /* Vertical padding for nav items */
    --bo-transition-speed: 0.3s;
}

/* --- Reset & Base --- */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { font-size: 16px; scroll-behavior: smooth; height: 100%; }
body {
    font-family: var(--bo-font-sans);
    color: var(--bo-fg-color);
    background-color: var(--bo-bg-color-light); /* Fallback background */
    line-height: 1.6;
    display: flex; /* Use flexbox for sticky footer */
    flex-direction: column; /* Stack header, main, footer vertically */
    min-height: 100vh; /* Ensure body takes at least full viewport height */
    position: relative; /* Needed for fixed elements */
    overflow-x: hidden;
}
a { color: var(--bo-accent-color); text-decoration: none; transition: color 0.2s ease; }
a:hover { color: color-mix(in srgb, var(--bo-accent-color) 80%, white); }
h1, h2, h3, h4, h5, h6 { color: var(--bo-fg-color); margin-bottom: 0.8em; line-height: 1.3; position: relative; /* Needed for headerlink positioning */ }
h1 { font-size: 2.2rem; margin-top: 1em; border-bottom: 1px solid var(--bo-border-color); padding-bottom: 0.3em;}
h2 { font-size: 1.8rem; margin-top: 2em; border-bottom: 1px solid var(--bo-border-color); padding-bottom: 0.2em;}
h3 { font-size: 1.4rem; margin-top: 1.8em;}
h4 { font-size: 1.1rem; font-weight: bold; margin-top: 1.5em;}
p { margin-bottom: 1.2em; }
ul, ol { margin-bottom: 1.2em; padding-left: 1.5em; }
li { margin-bottom: 0.4em; }
code { font-family: var(--bo-font-mono); background-color: var(--bo-code-bg-color); color: var(--bo-code-fg-color); padding: 0.2em 0.4em; border-radius: 4px; font-size: 0.88em; word-break: break-word; hyphens: auto; }
pre { font-family: var(--bo-font-mono); background-color: var(--bo-code-bg-color); color: var(--bo-code-fg-color); padding: 1em; border-radius: 4px; overflow-x: auto; border: 1px solid var(--bo-border-color); line-height: 1.4; font-size: 0.85em; margin-bottom: 1.5em; }
pre code { background-color: transparent; padding: 0; border-radius: 0; font-size: inherit; word-break: normal; hyphens: none; }
blockquote { margin: 1.5em 0; padding: 1em 1.5em; border-left: 4px solid var(--bo-accent-color); background-color: var(--bo-bg-color-light); color: var(--bo-fg-color-light); }
blockquote p:last-child { margin-bottom: 0; }
hr { border: none; border-top: 1px solid var(--bo-border-color); margin: 2em 0; }
table { width: 100%; border-collapse: collapse; margin-bottom: 1.5em; border: 1px solid var(--bo-border-color); display: block; overflow-x: auto; }
th, td { border: 1px solid var(--bo-border-color); padding: 0.6em 0.8em; text-align: left; white-space: nowrap; }
th { background-color: var(--bo-bg-color-light); font-weight: bold; color: var(--bo-fg-color); }

/* --- Layout --- */
/* No overall .bo-container needed at top level */
/* .bo-main-wrapper is removed */

.bo-sidebar {
    flex-shrink: 0;
    width: var(--bo-sidebar-width);
    height: calc(100vh - var(--bo-header-height) - var(--bo-footer-height)); /* Fill space between header/footer */
    position: fixed;
    top: var(--bo-header-height);
    overflow-y: auto;
    overflow-x: hidden;
    padding: var(--bo-container-padding) 0;
    background-color: var(--bo-bg-color);
    transition: width var(--bo-transition-speed) ease-in-out,
                padding var(--bo-transition-speed) ease-in-out,
                border var(--bo-transition-speed) ease-in-out,
                opacity var(--bo-transition-speed) ease-in-out,
                transform var(--bo-transition-speed) ease-in-out;
    scrollbar-width: thin;
    scrollbar-color: var(--bo-border-color) transparent;
    z-index: 50;
}
.bo-sidebar::-webkit-scrollbar { width: 6px; }
.bo-sidebar::-webkit-scrollbar-track { background: transparent; }
.bo-sidebar::-webkit-scrollbar-thumb { background-color: var(--bo-border-color); border-radius: 3px; }

.bo-sidebar-left {
    left: 0;
    border-right: 1px solid var(--bo-border-color);
    padding-left: var(--bo-container-padding);
    padding-right: var(--bo-container-padding);
    transform: translateX(0);
}
.bo-sidebar-right {
    right: 0;
    border-left: 1px solid var(--bo-border-color);
    padding-left: var(--bo-container-padding);
    padding-right: var(--bo-container-padding);
}

/* Styles for collapsed left sidebar */
.bo-sidebar-left.is-collapsed {
    width: var(--bo-sidebar-width);
    transform: translateX(-100%);
    padding-left: 0;
    padding-right: 0;
    border-right-width: 0;
    opacity: 0;
    pointer-events: none;
}

.bo-content {
    /* Use margin to push content away from fixed elements */
    margin-top: var(--bo-header-height);
    margin-bottom: var(--bo-footer-height);
    margin-left: var(--bo-sidebar-width); /* Space for left sidebar */
    margin-right: var(--bo-sidebar-width); /* Space for right sidebar */
    padding: var(--bo-container-padding); /* Inner padding for content */
    min-height: calc(100vh - var(--bo-header-height) - var(--bo-footer-height)); /* Ensure it tries to fill vertical space */
    overflow-y: auto; /* Make ONLY the content area scrollable */
    transition: margin-left var(--bo-transition-speed) ease-in-out,
                margin-right var(--bo-transition-speed) ease-in-out;
    background-color: var(--bo-bg-color-light); /* Background for content area */
    position: relative; /* Needed for positioning context if any children are absolute */
    z-index: 1; /* Ensure content is above body background */
}

/* Adjust content margin when left sidebar is collapsed */
body.bo-sidebar-is-collapsed .bo-content {
    margin-left: var(--bo-sidebar-width-collapsed);
}

@media screen and (max-width: 1024px) {
    .bo-sidebar-right { display: none; }
    .bo-content { margin-right: 0; } /* Remove right margin */
}

.bo-content article { max-width: 900px; margin: 0 auto; }

/* --- Header --- */
.bo-header {
    height: var(--bo-header-height);
    background-color: var(--bo-bg-color);
    border-bottom: 1px solid var(--bo-border-color);
    position: fixed; /* Fixed header */
    top: 0;
    left: 0;
    width: 100%;
    z-index: 100;
    padding: 0 var(--bo-container-padding); /* Add padding directly */
}
.bo-header-grid { display: flex; align-items: center; height: 100%; }
.bo-sidebar-toggle { background: none; border: none; color: var(--bo-fg-color-light); cursor: pointer; padding: 0.5em; margin-right: 0.5rem; display: flex; align-items: center; transition: color 0.2s; }
.bo-sidebar-toggle:hover { color: var(--bo-fg-color); }
.bo-sidebar-toggle .bo-icon-menu::before { content: 'â‰¡'; font-size: 1.5rem; line-height: 1; }
.bo-header-title { font-size: 1.2rem; font-weight: bold; white-space: nowrap; }
.bo-header-title a { color: var(--bo-fg-color); display: flex; align-items: center; }
.bo-header-title a:hover { color: var(--bo-fg-color); }
.bo-header-title img { height: 30px; margin-right: 0.5em; }
.bo-header-search { margin-left: auto; margin-right: 1rem; }
.bo-search-toggle { background: var(--bo-bg-color-light); border: 1px solid var(--bo-border-color); color: var(--bo-fg-color-light); padding: 0.4em 0.8em; border-radius: 4px; cursor: pointer; font-size: 0.9rem; transition: background-color 0.2s, color 0.2s; white-space: nowrap; }
.bo-search-toggle:hover { background: var(--bo-bg-color-lighter); color: var(--bo-fg-color); }
.bo-search-icon::before { content: 'ðŸ”'; margin-right: 0.4em; display: inline-block; }
.bo-header-repo a { color: var(--bo-fg-color-light); display: flex; align-items: center; padding: 0.5em; }
.bo-header-repo a:hover { color: var(--bo-fg-color); }
.bo-repo-icon::before { content: 'ðŸ”—'; font-size: 1.2rem; }

/* Footer CSS fixes */
.bo-footer {
    background-color: var(--bo-bg-color);
    border-top: 1px solid var(--bo-border-color);
    height: var(--bo-footer-height);
    position: fixed; /* Fixed footer */
    bottom: 0;
    left: 0;
    width: 100%;
    z-index: 100; /* Ensure footer is above scrolling content */
    padding: 0 var(--bo-container-padding); /* Add padding directly */
    display: flex;
    align-items: center; /* This centers content vertically */
  }
  
  .bo-footer-content {
    display: flex;
    justify-content: space-between; /* Pushes children to opposite ends */
    align-items: center; /* Vertically center content */
    font-size: 0.85rem;
    color: var(--bo-fg-color-light);
    width: 100%;
    height: 100%; /* Fill footer height */
    max-width: 1400px; /* Optional: Limit content width within footer */
    margin: 0 auto; /* Center content if max-width is used */
    padding: 0 0.5rem; /* Add slight padding inside the content */
  }
  
  /* Left side (copyright) */
  .bo-footer-content small:first-child {
    margin-right: auto; /* Push to left */
  }
  
  /* Right side (credits) */
  .bo-footer-credits {
    margin-left: auto; /* Push to right */
    color: var(--bo-fg-color-light);
  }
  
  .bo-footer-credits a {
    color: var(--bo-fg-color-light);
  }
  
  .bo-footer-credits a:hover {
    color: var(--bo-accent-color);
  }

/* --- Navigation (Left Sidebar) --- */
.bo-nav-main { opacity: 1; transition: opacity var(--bo-transition-speed) ease-in-out; }
/* Use transform state for hiding content */
.bo-sidebar-left.is-collapsed .bo-nav-main { opacity: 0; pointer-events: none; }
.bo-nav-list { list-style: none; padding: 0; }
.bo-nav-list .bo-nav-list.is-child-list {
    padding-left: 1em;
    margin-top: 0.3em; /* Space above nested list */
    margin-bottom: 0.5em; /* Space below nested list */
    border-left: 1px solid var(--bo-border-color);
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    visibility: hidden;
    transition: max-height 0.3s ease-out, opacity 0.2s ease-out, visibility 0s linear 0.3s;
}
.bo-nav-item.is-open > .is-child-list {
    max-height: 1000px;
    opacity: 1;
    visibility: visible;
    transition: max-height 0.3s ease-in, opacity 0.2s ease-in, visibility 0s linear 0s;
}

.bo-nav-item {
    margin-bottom: 0; /* Remove bottom margin from item */
    position: relative;
}
.bo-nav-item.has-children > .bo-nav-link::before {
    content: 'â–¸';
    display: inline-block;
    position: absolute;
    left: -0.2em;
    top: 50%;
    transform: translateY(-50%);
    font-size: 0.9em;
    line-height: 1;
    color: var(--bo-fg-color-lighter);
    transition: transform 0.2s ease-in-out;
    pointer-events: none;
}
.bo-nav-item.has-children.is-open > .bo-nav-link::before {
    transform: translateY(-50%) rotate(90deg);
}

.bo-nav-link {
    display: block;
    /* Use variable for vertical padding */
    padding: var(--bo-nav-item-v-padding) 0.6em;
    color: var(--bo-fg-color-light);
    border-radius: 4px;
    transition: background-color 0.2s, color 0.2s;
    font-size: 0.95rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    position: relative;
    padding-left: 1.2em; /* Make space for toggle */
    cursor: pointer;
    line-height: 1.4; /* Adjust line height for better spacing */
}
.bo-nav-link:hover { background-color: var(--bo-bg-color-lighter); color: var(--bo-fg-color); }
.bo-nav-item.is-active > .bo-nav-link { background-color: var(--bo-accent-color-transparent); color: var(--bo-accent-color); font-weight: bold; }
.bo-nav-item.is-active.has-children > .bo-nav-link { color: var(--bo-fg-color); }

/* --- Table of Contents (Right Sidebar) --- */
.bo-toc-main { }
.bo-toc-title { font-size: 0.8rem; font-weight: bold; color: var(--bo-fg-color-lighter); text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.8em; padding-bottom: 0.3em; border-bottom: 1px solid var(--bo-border-color); }
.bo-toc-list { list-style: none; padding: 0; font-size: 0.85rem; }
.bo-toc-list .bo-toc-list { padding-left: 0.8em; margin-top: 0.2em; }
.bo-toc-item { margin-bottom: 0.1em; }
.bo-toc-link { display: block; padding: 0.2em 0.4em; color: var(--bo-fg-color-light); border-left: 2px solid transparent; transition: color 0.2s, border-left-color 0.2s; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.bo-toc-link:hover { color: var(--bo-fg-color); }
.bo-toc-item.is-active-toc > .bo-toc-link { color: var(--bo-accent-color); border-left-color: var(--bo-accent-color); }

/* --- Permalink Header Links --- */
.headerlink {
  /* Hide original pilcrow symbol */
  font-size: 0;
  line-height: 0;
  visibility: hidden;

  /* Common styles for the link */
  margin-left: 0.3em;
  font-weight: normal;
  color: var(--bo-fg-color-lighter);
  text-decoration: none;
  opacity: 0; /* Hide by default */
  transition: opacity 0.2s;
}
.headerlink::before {
    content: "#"; /* Display hash symbol */
    font-size: 0.8em; /* Set size relative to heading */
    line-height: 1; /* Reset line height */
    visibility: visible; /* Ensure pseudo-element is visible */
    display: inline-block; /* Needed for visibility */
}
/* Show on heading hover */
h1:hover .headerlink,
h2:hover .headerlink,
h3:hover .headerlink,
h4:hover .headerlink,
h5:hover .headerlink,
h6:hover .headerlink {
    opacity: 0.6;
}
.headerlink:hover {
    opacity: 1; /* Fully visible on link hover */
    color: var(--bo-accent-color);
}


/* --- Admonitions --- */
.admonition { margin: 1.5em 0; padding: 0; border-radius: 4px; border: 1px solid var(--bo-border-color); border-left-width: 4px; overflow: hidden; background-color: var(--bo-bg-color-light); }
.admonition-title { font-weight: bold; padding: 0.6em 1em; background-color: rgba(255, 255, 255, 0.03); border-bottom: 1px solid var(--bo-border-color); display: block; }
.admonition > *:not(.admonition-title) { padding: 0.8em 1.2em; }
.admonition > p:last-child { margin-bottom: 0; }
.admonition { border-left-color: var(--bo-fg-color-lighter); }
.admonition.note, .admonition.seealso { border-left-color: var(--bo-accent-color); }
.admonition.abstract, .admonition.summary, .admonition.tldr { border-left-color: #6c757d; }
.admonition.info, .admonition.todo { border-left-color: #17a2b8; }
.admonition.tip, .admonition.hint, .admonition.important { border-left-color: #28a745; }
.admonition.success, .admonition.check, .admonition.done { border-left-color: #28a745; }
.admonition.question, .admonition.help, .admonition.faq { border-left-color: #007bff; }
.admonition.warning, .admonition.caution, .admonition.attention { border-left-color: #ffc107; }
.admonition.failure, .admonition.fail, .admonition.missing { border-left-color: #dc3545; }
.admonition.danger, .admonition.error, .admonition.bug { border-left-color: #dc3545; }
.admonition.quote, .admonition.cite { border-left-color: #6f42c1; }

/* --- Code Highlighting (Pygments - Basic Dark Theme) --- */
.highlight pre { background-color: var(--bo-code-bg-color); }
.highlight .hll { background-color: #333333; } .highlight .c { color: #aaaaaa; font-style: italic } .highlight .err { color: #ff3333 } .highlight .k { color: var(--bo-accent-color); font-weight: bold } .highlight .l { color: #ffffff } .highlight .n { color: #ffffff } .highlight .o { color: #ffffff } .highlight .p { color: #ffffff } .highlight .ch { color: #aaaaaa; font-style: italic } .highlight .cm { color: #aaaaaa; font-style: italic } .highlight .cp { color: #ffcc66; font-weight: bold } .highlight .cpf { color: #aaaaaa; font-style: italic } .highlight .c1 { color: #aaaaaa; font-style: italic } .highlight .cs { color: #aaaaaa; font-style: italic } .highlight .gd { color: #ff3333 } .highlight .ge { font-style: italic } .highlight .gr { color: #ff3333 } .highlight .gh { color: #ffffff; font-weight: bold } .highlight .gi { color: #66ff66 } .highlight .go { color: #444444 } .highlight .gp { color: #ffffff; font-weight: bold } .highlight .gs { font-weight: bold } .highlight .gu { color: #ffffff; font-weight: bold } .highlight .gt { color: #ff3333 } .highlight .kc { color: var(--bo-accent-color); font-weight: bold } .highlight .kd { color: var(--bo-accent-color); font-weight: bold } .highlight .kn { color: var(--bo-accent-color); font-weight: bold } .highlight .kp { color: var(--bo-accent-color); font-weight: bold } .highlight .kr { color: var(--bo-accent-color); font-weight: bold } .highlight .kt { color: #66ccff; font-weight: bold } .highlight .ld { color: #ffffff } .highlight .m { color: #66ccff } .highlight .s { color: #66ff66 } .highlight .na { color: #66ccff } .highlight .nb { color: #ffffff } .highlight .nc { color: #66ccff; font-weight: bold } .highlight .no { color: #66ff66 } .highlight .nd { color: #ffffff } .highlight .ni { color: #ffffff } .highlight .ne { color: #ff3333 } .highlight .nf { color: #66ccff } .highlight .nl { color: #ffffff } .highlight .nn { color: #66ccff; font-weight: bold } .highlight .nx { color: #ffffff } .highlight .py { color: #ffffff } .highlight .nt { color: var(--bo-accent-color); font-weight: bold } .highlight .nv { color: #66ff66 } .highlight .ow { color: var(--bo-accent-color); font-weight: bold } .highlight .w { color: #ffffff } .highlight .mb { color: #66ccff } .highlight .mf { color: #66ccff } .highlight .mh { color: #66ccff } .highlight .mi { color: #66ccff } .highlight .mo { color: #66ccff } .highlight .sa { color: #66ff66 } .highlight .sb { color: #66ff66 } .highlight .sc { color: #66ff66 } .highlight .dl { color: #66ff66 } .highlight .sd { color: #aaaaaa; font-style: italic } .highlight .s2 { color: #66ff66 } .highlight .se { color: #66ff66 } .highlight .sh { color: #66ff66 } .highlight .si { color: #66ff66 } .highlight .sx { color: #66ff66 } .highlight .sr { color: #66ff66 } .highlight .s1 { color: #66ff66 } .highlight .ss { color: #66ff66 } .highlight .bp { color: #ffffff } .highlight .vc { color: #66ff66 } .highlight .vg { color: #66ff66 } .highlight .vi { color: #66ff66 } .highlight .vm { color: #ffffff } .highlight .il { color: #66ccff }

/* --- Search Plugin Modal (Supabase Style) --- */
.bo-search-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7); /* Slightly less opaque overlay */
    z-index: 110;
    display: none;
    align-items: flex-start; /* Align container to top */
    justify-content: center;
    padding: 6vh 2rem 2rem 2rem; /* More padding top */
    backdrop-filter: blur(3px); /* Optional blur effect */
}
.bo-search-modal.is-active { display: flex; }

.bo-search-modal-container {
    background-color: var(--bo-bg-color-lighter); /* Use lighter bg */
    border: 1px solid var(--bo-border-color);
    border-radius: 8px; /* More rounded */
    padding: 0; /* Remove padding, handle internally */
    width: 100%;
    max-width: 650px; /* Adjust width */
    max-height: 80vh;
    display: flex;
    flex-direction: column;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    overflow: hidden; /* Prevent content spilling */
}

.bo-search-modal-header { /* Remove header, integrate input */
    display: none;
}

/* Style search input like Supabase */
#mkdocs-search-query { /* Target the correct ID */
    width: 100%;
    padding: 1rem 1.5rem; /* More padding */
    font-size: 1rem;
    background-color: transparent; /* Input transparent */
    border: none; /* No border on input itself */
    border-bottom: 1px solid var(--bo-border-color); /* Border below input */
    color: var(--bo-fg-color);
    outline: none; /* Remove focus outline */
}
#mkdocs-search-query::placeholder {
    color: var(--bo-fg-color-lighter);
}

/* Style results area */
#mkdocs-search-results { /* Target the correct ID */
    flex-grow: 1;
    overflow-y: auto;
    padding: 0.5rem; /* Padding around results list */
    scrollbar-width: thin;
    scrollbar-color: var(--bo-border-color) transparent;
}
#mkdocs-search-results::-webkit-scrollbar { width: 6px; }
#mkdocs-search-results::-webkit-scrollbar-track { background: transparent; }
#mkdocs-search-results::-webkit-scrollbar-thumb { background-color: var(--bo-border-color); border-radius: 3px; }

/* Style individual result items */
#mkdocs-search-results article { /* Target articles injected by search.js */
    margin-bottom: 0.5rem;
    border-radius: 4px;
    transition: background-color 0.2s;
}
#mkdocs-search-results article a {
    display: block;
    padding: 0.8em 1em;
    color: var(--bo-fg-color-light);
}
#mkdocs-search-results article:hover,
#mkdocs-search-results article.selected { /* 'selected' class might be added by search.js */
     background-color: var(--bo-accent-color-transparent);
}
#mkdocs-search-results article:hover a,
#mkdocs-search-results article.selected a {
    color: var(--bo-fg-color);
}

#mkdocs-search-results h3 { /* Result title */
    font-size: 1rem;
    font-weight: 500;
    color: var(--bo-fg-color);
    margin-bottom: 0.2em;
    line-height: 1.3;
}
#mkdocs-search-results p { /* Result context/teaser */
    font-size: 0.85rem;
    color: var(--bo-fg-color-light);
    margin-bottom: 0;
    line-height: 1.4;
    /* Optional: Limit lines shown */
    /* display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden; */
}
#mkdocs-search-results hr { /* Hide default separators if any */
    display: none;
}
/* Add section titles if needed (would require JS modification) */
.bo-search-section-title {
    font-size: 0.75rem;
    color: var(--bo-fg-color-lighter);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    padding: 1rem 1.5rem 0.5rem 1.5rem;
    font-weight: bold;
}


/* --- Responsive Adjustments --- */
@media screen and (max-width: 768px) {
     :root { --bo-header-height: 50px; --bo-container-padding: 1rem; }
    /* .bo-main-wrapper { min-height: calc(100vh - var(--bo-header-height)); } */ /* Wrapper removed */
    .bo-sidebar { z-index: 90; height: calc(100vh - var(--bo-header-height)); /* Adjust height for mobile */ }
    .bo-sidebar-left { /* Mobile slide-out adjustments */ }
    .bo-sidebar-left.is-collapsed { /* Keep transform */ }
    .bo-sidebar-right { display: none; }
    .bo-content {
        margin-left: 0 !important; /* Remove margin completely on mobile */
        margin-right: 0 !important;
        padding: var(--bo-container-padding);
        padding-top: var(--bo-header-height); /* Add padding for fixed header */
        padding-bottom: calc(var(--bo-footer-height) + var(--bo-container-padding)); /* Ensure footer space */
         min-height: 100vh; /* Ensure content area can scroll full height */
    }
    /* Add overlay for when sidebar is open on mobile */
    body.bo-sidebar-is-open::after {
        content: '';
        position: fixed;
        top: var(--bo-header-height);
        left: 0;
        width: 100%;
        height: calc(100% - var(--bo-header-height));
        background: rgba(0,0,0,0.5);
        z-index: 40; /* Below sidebar */
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0s linear 0.3s;
    }
     body.bo-sidebar-is-open:not(.bo-sidebar-is-collapsed)::after {
        opacity: 1;
        visibility: visible;
        transition: opacity 0.3s ease, visibility 0s linear 0s;
     }

    .bo-header-title { font-size: 1rem; }
    .bo-header-search { margin-right: 0.5rem; }
    /* Search modal adjustments for mobile */
    .bo-search-modal { padding: 4vh 1rem 1rem 1rem; }
    .bo-search-modal-container { max-height: 90vh; }
}
